=======================================
######## AWS COMPUTE SERVICES #########

## AWS EC2
- It is Elastic Compute CloudFront
- It is a raw server
- It enables on-demand, scalable computing capacity in the AWS cloud

## ELASTIC BEANSTALK
- It is a web app server
- It is example of PaaS
- Developers can quickly deploy and manage applications in the AWS cloud. Developers just have to upload their application and the rest is taken care of by Elastic Beanstalk.

## AWS LAMBDA
- It is advance version of EC2
- It is a compute service that lets u run code without provisioning or managing servers.

## AWS ELASTIC LOAD BALANCER 
- It distributes incoming app or network traffic across multiple targets, such as Amazon EC2 instance, container and IP addr. 

## AWS ECR
- It is Elastic Container Registry
- It is fully-managed docker container registry that make it easy for developer to 

## AWS ECS 
- It is Elastic Container Service
- It is a highly scalable, high performance container orchestration service that supports Docker container and allow easily run and scale containerized app on AWS.

## AWS Lightsail
- provides template-based computing. 
- It is also called Virtual Private Servers (VPS). 
- It makes it possible to quickly launch virtual machines from templates rather than selecting individual components in EC2.
=======================================
##### Elastic Compute Cloud(EC2) ######  

> AWS EC2 provides scalable computing capacity in the AWS cloud

> You can use Amazon EC2 to launch as many or as few Virtual servers as you need, configure security and networking and manage storage. 

> it enables us to scale up or scale down the instance

> it is having 2 storage options i.e EBS & instance store 
> Preconfigured templates are available known as Amazon Machine Image. 
> By default, when you create an EC2 account with amazon, your acct is limited to a maximum  of 20 instances per EC2 region with 2 default high I/O instance.

##### V1
> EC2 service provides resizeable compute capacity in cloud. 
> we have root access to each EC2 instance 
> we can stop, restart, reboot or terminate our EC2 instance
> EC2 availability SLA is 99.95% for each region during any monthly biling period 
- here 0.05% i.e. 22min per month this much time our EC2 instance might not available

> we can provision our EC2 instance on shared or dedicated hosts(i.e physical servers) 

##### EC2 INSTANCE ACCESS 
> To access an instance we need a key and key pair name 
- when we launch a new EC2 instance, we can create a public/private key pair 
- we can download the private key only once 
- the public key is saved by AWS to match it to the key pair name, and private key when we login to EC2 instance 
- if we launch instance without a key pair, we will not be able to acess it(via RDP/SSH) 

#### EC2 
> There is 20 EC2 instances soft limit per region, 
- we can submit request to AWS to increase it 

> Two types of Block store devices are supported: 
1. Elastic Block store (EBS) 
- Persistent 
- Network attached virtual drives 

2. Instance store 
- Basically the virtual hard drive on the host allocated to this EC2 instance 
- Limited to 10GB per device  

#### EC2 - Root/Boot volume 
> EC2 instance root/boot volume can be EBS or Instance stores vol. 

> EBS-Backed EC2 instance 
- it has an EBS root volume 

> Instance-store backed EC2 instance 
- it has an instance-store root volume 
- it is ephimeral volume


######## EC2 instance families 

#### 1. General Purpose 
- Balanced memory and CPU 
- suitable for most application
- Ex- M3, M4, T2 

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#### 2. COMPUTE OPTIMIZED 
- More CPU than memory 
- Compute & HPC intensive use 

3 types : C4, C5, C5n 

##C4 
vCPU		: 2 to 36, 
RAM			: 3.75 to 60GB, 
Storage		: EBS only, 
N_Bandwidth	: 10Gbps 

##C5 
vCPU		: 2 to 72, 
RAM			: 4 to 192GB, 
Storage		: EBS only & NVMe SSD, 
N_Bandwidth	: 25 Gbps 

> C5 use Elastic Network Adapter 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#### 3. MEMORY OPTIMIZED ####
- More RAM/ memory 
- Memory intensive apps, DB and caching 
- R/X/Z series 

## R4/R5/R5a/R5ad/R5d 
- High performance
- suitable for both relational and No-sql DB 
- Used in financial service, Hadoop 
vCPU		: 2 to 96
RAM			: 16 to 768GB
Storage		: EBS only & NVMe SSD
N_Bandwidth	: 

## X1/X1E 
> Well suited for high performance DB, Memory intensive enterprise app, relation DB, workload SAP HANA, 
- Electronic design automation 
vCPU		: 4 to 128
RAM			: 122 to 3904GB
Storage		: Instance storage & NVMe SSD

## Z1d 
> all CPU core frequency is upto 400GHz, fastest of any cloud instance 
> It use Nitro System, Xeon processor, 
vCPU		: 2 to 48
RAM			: 16 to 384GB
Storage		: NVMe SSD
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#### 4. GPU compute instance 

> Graphics optimized 
> High performance and parallel computing 

## F1 
Field programmable gate arrays (FPGA) 
- each FPGA contain 25million logic element(i.e gate) and 6800 DSP engines 
> Design to accelerate computational intensive algorithm, such as data flow or highly parallel operations 
> Used in Geronomic research, financial analytics, real time video processing & Big data. 

vCPU		: 8 to 64
FPGA 		: 1 to 8
RAM			: 122 to 976GB
Storage		: NVMe SSD

## P2/P3 
> It use NVIDIA Tesla GPU 
> provide high bandwidth networking
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#### 5. Storage OPTIMIZED 
> Very High, low latency I/O
> I/O intensive apps, data warehousing, Hadoop

=======================================
###### EC2 EBS OPTIMIZED instance ##### V10

> EBS optimized EC2 instances enable the full luse of an EBS volume provisioned IOPS 
- They deliver dedicated performance between EC2 instance and their attached EBS volumes
- Are designed to work will all EBS volume types 
- This is all about high performance data transfer between EC2 instance and their attached EBS volumes

#### EC2- Single Root I/O Virtualization (SR-I/OV)

> Is a network interface (host interface) virtualization whereby, a guest machine (EC2 instance) has direct access to a virtual network interface without hypervisor being in the middle (emulating a vNIC) 
- basically, virtualizing the network adaptor on the physical host 

> SR-I/OV
- Not supported on all instance types 
- it is supported on R4, X1, P2, C3/4, R3, I2, M4, d2 

> For supported instance types, SR-I/OV provides: 
- higher packet per second (PPS) performance for data transfer
- Lower latency 
- very low network jitter 

## EC2 - Enhanced Networking 

> Takes advantage of SR-I/OV on supported EC2 instance types to provide:
- Higher inter-instance PPS rates & Low latency 

> EC2 enhanced networking can be enabled on EBS-backed or Instance store-backed instance 

> EC2 enhanced networking can function across Multi-AZ 

> To use enhanced networking, the EC2 instance need to 
- Support SR-I/OV
- Should be created form HVM(Hardware Virtual Machine) AMI
- be launched in a VPC (default)

> Using enhanced networking does not cost extra 
=======================================
######### EC2 Placement Groups ######## V11
> Is a logical grouping (clustering) of EC2 instance in the same AZ or in different Availablity Zones with the goal of providing low latency, and high network throughput for inter-instance communication 

> A placement group, determines how instance are placed on underlying hardware. 

> we can create a placement group by specifying one of 2 strategies :
1. CLUSTERS INSTANCES into a low-latency group in a single AZ. 
2. SPREAD INSTANCES across underlying hardware in multiple AZs 

> There is no charge (except for that of the involved EC2 instance) for creating a placement group.

> Use SR-I/OV(Single Root I/O Virtualization) based enhanced networking instance for placement group

> To guarantee availability, try to launch all required instance at the same time

> we can create placement groups across a VPC peering 

##### CLUSTER Placement group #####

> It is within a single AZ 
> It is recommended when our app require, and will benefit from, low network latency, high network throughput or both, and if the majority of the network traffic is between the instance in the group 

> To provide the lowest latency and the highest packet-per-second network performance for our placement group, choose an instance type that support enhanced networking (SR-I/OV)  

> It is always recommended to launch the placement group instance at the same time 
- if you try to add instance to the placement group, and you can't due to availability reasons, try to stop and start all instances.
- This may result in migration to other hosts that have availability of the specific instance types requested for the group 

> Try to avoid launching more than 1 instance type in the placement group (although possible), we increase our chances of getting an insufficient capacity error. 

> if we stop an instance in a placement group and then start it again, it still runs in the placement group. However the starts fails if there isn't enough capacity for the instance. 


##### EC2 Spread Placement groups ###
> Spread placement group is a group of instances that are each placed on distinct underlying hardware

> Spread placement group are recommended for applications that have a small number of critical instances that should be kept separated from each other
- Launching instances in a spread placement group reduces the risk of simultaneous failure that might occur when instance share the same underlying hardware
- spread placement group provide access to distinct hardware and are therefore suitable for mixing instance type or launching instances over time

> Spread placement group can span multiple availability zone 
- you can have a maximum of seven running instances per availability zone per group

> if you start on launch and instance in a spread placement group and there is insufficient unique hardware to fulfill the request request fails 
- you can try your request again later

##### EC2 Placement group ####

> Cluster placement group can not span multiple AZ
> A placement group name must be unique within an account for the region
> You can use different instance type with placement group however this is not recommended for closure placement groups

> You cannot merge two placement groups

> you can 
- move an existing instance to a placement group 
- move an instance from one placement group to another 
- remove an instance from a placement group

> An instance cannot be launched in multiple placement groups at the same time

> Instances inside a placement group can address each other using private or public IP addresses 
- best performance is achieved when they use private IP addresses addresses for intra placement group communication

=======================================
########## EC2 Status checks ########## V12 

> By default a w s e c 2 in services perform automatically status check every 1 minute
- This is done on every running EC2 instance to identify any hardware or software issues
- Each status check returns either a pass or a failure status
- If one or more is status check return a fail, the overall EC2 instances status is changed to "impaired"

> Status checks are built in AWS EC2 services
- They cannot be configured, deleted, disabled or changed

> You can configure cloudwatch to initiate actions like reboot or recover on impaired EC2 instances (ie. for failure status check)

> once EC2 instances status changes to impaired because of host hardware or software problem, AWS will schedule stop/start for the EBS backed instances to relocate them to a different host 
- you can also do this manually

> AWS EC2 service status checks are very important for auto scaling groups too, to determine EC2 instance status

##### EC2 Monitoring ########

> EC2 service can send its metric data to AWS cloudwatch every 5 minute(enable by default)
- This is free of charge 
- it is called basic monitoring

> you can choose to enable detailed monitoring while launching the instance (or later) where the EC2 service will send it metric data to AWS cloudwatch every 1 minute 
- chargeable 
- it is called detailed  monitoring

> You can set cloudwatch alarm action on EC2 instance to 
- stop, restart, terminate or recover your EC2 instance 
- you can use stop or terminate actions to save cost 
- you can use the reboot and recover to move your EC2 instance to another host

=======================================